<!--
 * @Author: WangZhuoYi 13317149311@163.com
 * @Date: 2023-06-08 17:25:13
 * @LastEditors: WangZhuoYi 13317149311@163.com
 * @LastEditTime: 2024-09-12 08:53:48
 * @FilePath: /practice-code/节流和防抖/debounce.html
 * @Description: 
-->
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>防抖</title>
		<style>
			.box {
				height: 200px;
				background: #f22;
			}
		</style>
	</head>
	<body>
		<h1>
			就是指触发事件后在n秒内函数只能执行一次，如果在n秒内再次触发了事件，则重新计算时间
		</h1>
		<div class="box"></div>
		<script>
			var box = document.querySelector('.box')
			box.onmousemove = debounce(move, 500)
			function debounce(fn, wait) {
				let timer = null
				return function (e) {
					if (!timer) {
						fn.call(this, e)
					}
					timer && clearTimeout(timer)
					timer = setTimeout(() => {
						fn.call(this, e)
					}, wait)
				}
			}
			function move(e) {
				this.innerHTML = e.clientX + ',' + e.clientY
			}
		</script>
	</body>
</html>
