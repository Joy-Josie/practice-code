<!--
 * @Author: WangZhuoYi 13317149311@163.com
 * @Date: 2023-06-08 17:25:13
 * @LastEditors: WangZhuoYi 13317149311@163.com
 * @LastEditTime: 2024-10-12 09:25:04
 * @FilePath: /practice-code/节流和防抖/throttle.html
 * @Description: 
-->
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>节流</title>
		<style>
			.box {
				height: 200px;
				background: #f22;
			}
		</style>
	</head>
	<body>
		<h1>就是指连续触发时间但是在一段时间中只执行一次函数</h1>
		<div class="box"></div>
		<script>
			var box = document.querySelector('.box')
			box.onmousemove = throttle(move, 1000)

			function move(e) {
				this.innerHTML = e.clientX + ',' + e.clientY
			}

			function throttle(fn, wait) {
				let timer = null
				return function (e) {
					if (!timer) {
						timer = setTimeout(() => {
							fn.call(this, e)
							timer = null
						}, wait)
					}
				}
			}
		</script>
	</body>
</html>
